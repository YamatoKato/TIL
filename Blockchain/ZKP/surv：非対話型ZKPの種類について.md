# éå¯¾è©±å‹ ZKP ã®ç¨®é¡ã«ã¤ã„ã¦

## æ¦‚è¦

- æ—¥ä»˜: 2024-04-23
- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: Blockchain,ZKP,NIZKP,zk-SNARKs,zk-STARKs

## ç›®çš„/èƒŒæ™¯

- Crypt é ˜åŸŸã§éå¯¾è©±å‹ ZKP ãŒã©ã®ã‚ˆã†ã«æ‰±ã‚ã‚Œã¦ã„ã‚‹ã®ã‹èª¿ã¹ã‚‹ã€‚

- zk-SNARK ã¨ zk-STARK ã®é•ã„ã‚’çŸ¥ã‚‹
  - ã©ã£ã¡ãŒæœ‰ç”¨ãªã®ã‹
- ã©ã“ã«å¼·ã¿ãŒã‚ã‚‹ã®ã‹

## ãã‚‚ãã‚‚ ZKP ã¨ã¯

ã‚ã‚‹æƒ…å ±ã®æ‰€æœ‰æ¨©ã‚„æœ‰åŠ¹æ€§ã‚’ã€**ãã®æƒ…å ±è‡ªä½“ã‚’æ˜ã‚‰ã‹ã«ã™ã‚‹ã“ã¨ãªã**è¨¼æ˜ã™ã‚‹æŠ€è¡“ã§ã‚ã‚‹ã€‚
ã—ãŸãŒã£ã¦ã€ã‚¼ãƒ­çŸ¥è­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯ã€2 ã¤ã®å½“äº‹è€…ãŒå€‹äººæƒ…å ±ã‚’å…±æœ‰ã—ãŸããªã„ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ç°¡ç´ åŒ–ã—ã€ä¿¡é ¼ã‚’ã‚‚ãŸã‚‰ã™ã€‚

ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ã¯ã€ã“ã®æ€§è³ªã‚’åˆ©ç”¨ã—ã¦ä¸»ã«ã€ã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ä¸Šã§è¤‡æ•°ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã¾ã¨ã‚ã¦æ¤œè¨¼ã—ã€ZKP ã‚’ç”¨ã„ã¦ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã¨ç›¸äº’é‹ç”¨ã•ã›ã¦ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Šã‚’å›³ã£ã¦ã„ã‚‹ã€‚

## ã‚¼ãƒ­çŸ¥è­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®åŸºæº–

ã‚¼ãƒ­çŸ¥è­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯ã€ç”Ÿæˆã•ã‚ŒãŸ ZKP ãŒå—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã«ã€**å®Œå…¨æ€§**ã€**å¥å…¨æ€§**ã€**ã‚¼ãƒ­çŸ¥è­˜**ã® 3 ã¤ã®é‡è¦ãªæ¡ä»¶ã‚’éµå®ˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/87ac25a794c6-20230505.png)

1. å®Œå…¨æ€§

   ã‚¼ãƒ­çŸ¥è­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã®å®Œå…¨æ€§ã¨ã¯ã€æ¤œè¨¼è€…ãŒè¨¼æ˜è€…ã®ä¸»å¼µã«æŒ‘æˆ¦ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã‚¼ãƒ­çŸ¥è­˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒã€ãã®ä¸»å¼µãŒå®Ÿéš›ã«çœŸå®Ÿã§ã‚ã‚‹ã“ã¨ã‚’ç–‘ã„ãªãè¨¼æ˜ã§ãã‚‹ã‚‚ã®ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†ã“ã¨ã§ã‚ã‚‹ã€‚ã¤ã¾ã‚Šæ¤œè¨¼è€…ãŒæ­£ç›´ã«ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®è¦å‰‡ã«å¾“ã£ã¦è¡Œå‹•ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„

2. å¥å…¨æ€§

   ãã®ä¸»å¼µãŒå®Ÿéš›ã«çœŸã§ã‚ã‚‹å ´åˆã«ã®ã¿ã€æ¤œè¨¼è€…ã«çœŸå€¤ã‚’è¿”ã™ã€‚ã¤ã¾ã‚Šã€ZKP ãŒå¥å…¨ã§ã‚ã‚Œã°ã€ä¸æ­£ã‚’åƒãè¨¼æ˜è€…ã¯ã€æ­£ç›´ãªæ¤œè¨¼è€…ã‚’é¨™ã—ã¦å½ã®ä¸»å¼µã‚’çœŸã¨è¦‹ãªã™ã“ã¨ã¯æ±ºã—ã¦ã§ããªã„ã€‚

3. ã‚¼ãƒ­çŸ¥è­˜

   æ¤œè¨¼è€…ã¯ã€ä¸»å¼µãŒçœŸã‹å½ã‹ã®ä»–ã«ã€ä¸»å¼µã«é–¢ã™ã‚‹è¿½åŠ æƒ…å ±ã‚’å—ã‘å–ã£ã¦ã¯ãªã‚‰ãªã„ã€‚

### å¯¾è©±å‹ ZKP

![alt text](https://storage.googleapis.com/zenn-user-upload/ea41bf1516a3-20230505.png)

- æ¤œè¨¼è€…ãŒè¨¼æ˜è€…ã¨å¯¾è©±ã—ã€è¨¼æ˜è€…ã®ä¸»å¼µã‚’æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚‹è¨¼æ˜ã€‚
- ãã®ãŸã‚ã«ã€æ¤œè¨¼è€…ã¯ã€è¨¼æ˜è€…ãŒæ‰€æœ‰ã™ã‚‹ã¨ä¸»å¼µã™ã‚‹ç§˜å¯†æƒ…å ±ã‚’æ‰€æœ‰ã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿ è§£æ±ºã¾ãŸã¯æ­£ã—ãå›ç­”ã§ãã‚‹ä¸€é€£ã®èª²é¡Œã¾ãŸã¯è³ªå•ã‚’è¤‡æ•°å›ã€è¨¼æ˜è€…ã«æç¤ºã™ã‚‹ã€‚
- æ¤œè¨¼è€…ã¯ã€è¨¼æ˜è€…ã«è¤‡æ•°ã®èª²é¡Œã‚’æç¤ºã™ã‚‹ã“ã¨ãŒã§ãã€è¨¼æ˜è€…ãŒçœŸã®å€¤ã‚’è¿”ã™ãŸã³ã«ã€æ¤œè¨¼è€…ã¯è¨¼æ˜è€…ã®æ­£ç›´ã•ã«å¯¾ã™ã‚‹ä¿¡é ¼ãŒé«˜ã¾ã‚‹ã€‚
  - ã—ã‹ã—ã€æ¤œè¨¼è€…ã¯ 100%ã®ç¢ºå®Ÿæ€§ã§ä¸»å¼µã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã¯ã§ããªã„ãŒã€æ¤œè¨¼è€…ãŒèª¤ã£ ãŸä¸»å¼µã‚’æ¤œè¨¼ã™ã‚‹å¯èƒ½æ€§ã¯ã€è¨¼æ˜è€…ãŒè¿”ã™çœŸå€¤ã®æ•°ãŒå¢—ãˆã‚‹ã«ã¤ã‚Œã¦è‘—ã—ãæ¸›å°‘ã€‚

### éå¯¾è©±å‹ ZKP ã¨ã¯

![](https://storage.googleapis.com/zenn-user-upload/be071675b796-20230505.png)

- æ¤œè¨¼è€…ã¨è¨¼æ˜è€…ãŒåˆæ„ã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿(å…±æœ‰éµ) ã‚’ç”¨ã„ã¦æ§‹ç¯‰ã•ã‚ŒãŸæš—å·ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  ã§ç›¸äº’ä½œç”¨ã‚’ä»£æ›¿ã€‚
- è¨¼æ˜è€…ã¯ã€ZKP ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®è¨ˆç®—ã‚’å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«æƒ…å ±(å¼•æ•°)ã‚’é€ã‚‹ã€‚
- æ¤œè¨¼è€…ã¯ã€ãã® ZKP ã‚’åˆ¥ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å…¥åŠ›ã—ã€è¨¼æ˜ãŒæ­£ã—ã„ã‹ã©ã†ã‹ã‚’æ¤œè¨¼ã€‚

  - è¨€ã„æ›ãˆã‚‹ã¨ã€è¨¼æ˜è€…ãŒä¸€åº¦ã®é€šä¿¡ã§è¨¼æ˜ã‚’è¡Œã„ã€æ¤œè¨¼è€…ãŒãã®è¨¼æ˜ã‚’ç‹¬ç«‹ã—ã¦æ¤œè¨¼ã§ãã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«
  - **è¨¼æ˜è€…ãŒæ¤œè¨¼è€…ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«é€šä¿¡ã™ã‚‹å¿…è¦ãŒãªã„!**
    => éå¯¾è©±å‹

- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’é‡è¦–ã—ãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å‡¦ç†ã‚„ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å•é¡Œã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã‚Šå¾—ã‚‹ã€‚
- ã—ã‹ã—ã€æš—å·åŒ–ã•ã‚ŒãŸ ZKP ã®ç”Ÿæˆã¨æœ‰åŠ¹æ€§ã®è¨¼æ˜ã¯ã€**è¨ˆç®—æ©Ÿé›†ç´„çš„**ãªãƒ—ãƒ­ã‚»ã‚¹ã«ãªã‚‹ã€‚
  - TODOï¼šZKP ç”Ÿæˆã®ãŸã‚ã®ä¸­å¤®é›†æ¨©å‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’æŒã¤ãƒã‚§ãƒ¼ãƒ³ã¯ã€æœãŸã—ã¦åˆ†æ•£æ€§ã‚’æŒã£ãŸãƒã‚§ãƒ¼ãƒ³ã¨å‘¼ã¹ã‚‹ã®ã ã‚ã†ã‹ã€‚
  - æ¤œè¨¼è€…ãŒæ•°ç™¾ã®ãƒãƒ¼ãƒ‰ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®åˆ†æ•£æ€§ã‚’è€ƒãˆã‚‹ã¨ã€éå¯¾è©±å‹ ZKP ã¯å¯¾è©±å‹ ZKP ã‚ˆã‚Šã‚‚ã¾ã ã¾ã—ãªé¸æŠè‚¢ã‹ã‚‚ã€‚
- ç¾åœ¨ã¯ **zk-SNARKs** ã¨ **zk-STARKs** ã®ï¼’ç¨®é¡ã«åˆ†ã‹ã‚Œã¦ã„ã‚‹ã€‚

## zk-SNARKs

Zero-Knowledge Succinct Non-interactive Argument of Knowledge ã®ç•¥ã§è¨³ã¯ã‚¼ãƒ­çŸ¥è­˜ç°¡æ½”éå¯¾è©±çš„çŸ¥è­˜è«–è¨¼ã€‚2012 å¹´ã«ç™ºæ˜ã•ã‚ŒãŸã€‚

SNARK ã¨ã¯ã€ã€Œæ¤œè¨¼è€…ãŒè¨¼æ˜è€…ã«å•ã„ã‚’å‡ºã™ã“ã¨ãªãã€æ‰¿èªä½œæ¥­ã‚’çŸ­æ™‚é–“ã‹ã¤å°‘ãªã„è¨ˆç®—ã§è¡Œã†ã“ã¨ãŒã§ãã‚‹ã€‚ã€ã¨ã„ã†æ¦‚å¿µã€‚

- Zero-Knowledgeï¼šã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã‚’ç”¨ã„ãŸã‚¹ã‚­ãƒ¼ãƒ ã§ã‚ã‚‹ã“ã¨
- Succinctï¼šå®Ÿéš›ã«å®Ÿè¡Œã™ã‚‹è¨ˆç®—é‡ã‚ˆã‚Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºãŒã¨ã¦ã‚‚å°ã•ã„ã“ã¨
- Non-interactiveï¼šè¨¼æ˜è€…ã¨æ‰¿èªè€…ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§éå¯¾è©±ãªè¨¼æ˜ã‚’è¡Œãˆã‚‹ã“ã¨
- Argument of knowledgeï¼šè¨ˆç®—ã«ã‚ˆã‚‹çŸ¥è­˜ã®è¨¼æ˜ã®ã“ã¨

### æ‰‹é †

è¨¼æ˜è€… Alice ã¯æ¤œè¨¼è€… Bob ã¨å…±æœ‰ã—ãŸå‚ç…§å€¤`x` ã¨ Alice ã—ã‹çŸ¥ã‚‰ãªã„ç§˜å¯†ã®å…¥åŠ›å€¤ `w` ã‚’åˆ©ç”¨ã—ã¦ã€`y = f(x, w)`ã‚’è¨ˆç®—ã—ã¦è¨¼æ˜ã‚’ç”Ÿæˆã™ã‚‹ã€‚Alice ã¯è¨ˆç®—çµæœ`y`ã‚’ç§˜å¯†ã«ä¿æŒã— `f - y = 0` ã®ã¿ã‚’ æ¤œè¨¼è€… Bob ã«æä¾›ã™ã‚‹ã€‚

æ¤œè¨¼è€… Bob ã¯ Alice ãŒæ­£å½“ãªè¨ˆç®—ã‚’è¡Œã£ãŸã‹ã©ã†ã‹ã‚’ç¢ºèªã—ãŸã„ã€‚Bob ã¯ æ¤œè¨¼è€… Bob ã¨å…±æœ‰ã—ãŸå‚ç…§å€¤ `x` ã¨ã€Alice ã‹ã‚‰æä¾›ã•ã‚Œã‚‹`f - y = 0` ã¨ã„ã† 2 ã¤ã®æƒ…å ±ã¨ã€ã€Œç§˜å¯†ã®å…¥åŠ›å€¤`w`ã‚’çŸ¥ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã€ã‚’ Bob è‡ªèº«ãŒå…·ä½“çš„ã«çŸ¥ã‚‰ãšã«è¨¼æ˜ã§ãã‚‹æ•°å­¦çš„ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ã¦ç¢ºèªã™ã‚‹ã€‚

ãªãœç¢ºèªã™ã‚‹ã®ã‹ï¼Ÿ

- è¨ˆç®—ãŒæ­£ã—ã‘ã‚Œã° Alice ãŒç§˜å¯†ã®å€¤ w ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ãŒè¨¼æ˜ã•ã‚Œã‚‹ã¨ã„ã†ç‚¹ï¼ˆ**å®Œå…¨æ€§**,**ã‚¼ãƒ­çŸ¥è­˜æ€§**ï¼‰
- ã‚‚ã— Alice ãŒä¸æ­£ãªæ‰‹æ®µã§è¨ˆç®—çµæœã‚’æ“ä½œã—ã¦å½é€ ã™ã‚‹ã‚ˆã†ãªè¡Œç‚ºã‚’å–ã£ã¦ã‚‚ä¸Šè¨˜ã®ç¢ºèªã‚’ã™ã‚‹ã“ã¨ã§ä¸æ­£æ¤œçŸ¥ãŒã§ãã‚‹ã€‚ï¼ˆ**å¥å…¨æ€§**ï¼‰

ã“ã‚Œã«ã‚ˆã‚Šã€æ¤œè¨¼è€… Bob ã¯ è¨¼æ˜è€… Alice ãŒæ­£å½“ãªè¨ˆç®—ã‚’è¡Œã£ãŸã“ã¨ã‚’ç¢ºä¿¡ã—ã€Alice ãŒã¡ã‚ƒã‚“ã¨ w ã‚’çŸ¥ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã‚’ã€Bob ã«ã¯ã‚¼ãƒ­çŸ¥è­˜ã§è¨¼æ˜ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

### ç‰¹å¾´

ãƒ¡ãƒªãƒƒãƒˆ

- è¨¼æ˜ã®ã‚µã‚¤ã‚ºãŒå°ã•ã„(æ•°ç™¾ãƒã‚¤ãƒˆ)

  éå¸¸ã«å°ã•ãªè¨¼æ˜ã‚µã‚¤ã‚ºã‚’æŒã¡ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ä¸Šã§ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æ¤œè¨¼ã«é©ã—ã¦ã„ã‚‹ã€‚

- æ¤œè¨¼æ™‚é–“ãŒçŸ­ã„

  è¨¼æ˜ã®æ¤œè¨¼ã«ã‹ã‹ã‚‹æ™‚é–“ãŒçŸ­ãã€åŠ¹ç‡çš„ãªãƒ—ãƒ­ã‚»ã‚¹ã‚’æä¾›ã§ãã‚‹ã€‚

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

- è¨¼æ˜æ™‚é–“ãŒã‹ã‹ã‚‹

  è¨¼æ˜æ™‚é–“ 150ã€œ200k ã® constraints ã§ laptopPC ã§ 1 åˆ†ã‹ã‹ã‚‹

- Trusted Setup ãŒå¿…è¦

  zk-SNARKs ã®ç”Ÿæˆã«ã¯ã€ä¿¡é ¼ã§ãã‚‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚§ãƒ¼ã‚ºãŒå¿…è¦ã«ãªã‚‹ã€‚ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯è¤‡æ•°äººã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ãŒã€ãƒã‚§ãƒ¼ãƒ³å´ã¨ Layer2 å´ã®å…±é€šã®å‚ç…§ç‚¹ã¨ãªã‚‹è¨¼æ˜ã®ç”Ÿæˆã¨æ¤œè¨¼ã«å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿(å…±é€šã®å‚ç…§æ–‡å­—åˆ—)ã¨ãã‚Œã®ç”Ÿæˆã«å¿…è¦ãªæš—å·å­¦çš„ã«é‡è¦ãªç§˜å¯†ãªæƒ…å ±ã‚’ç”Ÿæˆã™ã‚‹ã€‚ã‚‚ã—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒä¸æ­£ã«è¡Œã‚ã‚ŒãŸå ´åˆã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒæãªã‚ã‚Œã‚‹ãŸã‚ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®å®Œäº†å¾Œã«å®‰å…¨ã«ç ´æ£„ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

- é‡å­è€æ€§ã®è„†å¼±æ€§

  ç¾åœ¨ã® zk-SNARK ã¯é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«å¯¾ã—ã¦è„†å¼±ã§ã‚ã‚‹ã¨ã•ã‚Œã¦ã„ã‚‹ã€‚

### ä½•ãŒã§ãã‚‹ã®ã‹

- åˆ†æ•£ã—ãŸæƒ…å ±ã®å­˜åœ¨è¨¼æ˜
- ç§˜åŒ¿åŒ–ã—ãŸã¾ã¾æƒ…å ±ã‚’é€å—ä¿¡ã™ã‚‹
- Tx ã‚„ãƒ–ãƒ­ãƒƒã‚¯ã‚’é›†ç´„ã—ã€ãƒ¡ã‚¤ãƒ³ãƒã‚§ãƒ¼ãƒ³ã«åˆ»ã‚€ã€‚
  - ä¿—ã«è¨€ã† Layer2 Solution

=> ä»¥ä¸‹ã®å•é¡Œã®è§£æ±ºã«å½¹ç«‹ã¤

- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- ã‚¤ãƒ³ã‚¿ãƒ¼ã‚ªãƒšãƒ©ãƒ“ãƒªãƒ†ã‚£(ç›¸äº’é‹ç”¨æ€§)
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

### å¿œç”¨ä¾‹

åˆ¥ãƒšãƒ¼ã‚¸ã¸

## zk-STARKs

Zero-Knowledge Scalable Transparent Argument of Knowledge ã®ç•¥èªã§ 2018 å¹´ã«ç™ºæ˜ã€‚

- Sï¼šã€Œã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã€ã‚’æ„å‘³ã—ã€ã“ã‚Œã‚‰ã®ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ãŒã„ã‹ã«ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å¼·åŒ–ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ã‚‹ã‹ã‚’å¼·èª¿ã—ã¦ã„ã‚‹ã€‚
- Tï¼šã€Œé€æ˜ã€ã®ç•¥

StarkNet ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã€‚

### ç‰¹å¾´

ãƒ¡ãƒªãƒƒãƒˆ

- Trusted Setup ãŒå¿…è¦ãªã„
  - å†…éƒ¨ã®è¨­è¨ˆè‡ªä½“ãŒãƒãƒƒã‚·ãƒ¥é–¢æ•°ã‚’åŸºæœ¬ã¨ã—ã¦ã„ã‚‹ã®ã§ã€å…¬é–‹æ¤œè¨¼å¯èƒ½ãªãƒ©ãƒ³ãƒ€ãƒ æ€§(å®Ÿéš›ã«ã¯ç¢ºå®Ÿãªè¨ˆç®—)ã¨ãªã‚Šã€å¿…è¦ãªã„ã€‚
- é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼è€æ€§
  - é‡å­è€æ€§ãŒã‚ã‚‹ã¨ã•ã‚Œã‚‹ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€‚
- è¨¼æ˜ã®è¨ˆç®—è¤‡é›‘æ€§ãŒä½ã„ï¼ˆã‚ªãƒ¼ãƒ€ãƒ¼çš„ã«ã¯ snarks ã® 1/10 ãã‚‰ã„ï¼‰
- æ¤œè¨¼è€…ã«ã‚ˆã£ã¦ä½¿ç”¨ã•ã‚Œã‚‹ãƒ©ãƒ³ãƒ€ãƒ æ€§ãŒå…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€å¤–éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ä¾å­˜ã›ãšã«è¨¼æ˜ã‚’æ¤œè¨¼ã§ãã‚‹

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

- è¨¼æ˜ã‚µã‚¤ã‚ºãŒå¤§ãã„(~250kB: aurora)
  - ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Šã¨å¼•ãæ›ãˆï¼Ÿ
- æ¤œè¨¼è¤‡é›‘æ€§ã¯ snarks ã® setup å¾Œã‚ˆã‚Šã¯é«˜ã„ã€‚

## SNARKs ã¨ STARKs ã®æ¯”è¼ƒ

|                                     | SNARKs                           | STARKs                        | Bulletproofs    |
| ----------------------------------- | -------------------------------- | ----------------------------- | --------------- |
| ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è¤‡é›‘ã•: prover        | O(N \* log(N))                   | > O(N \* poly-log(N))         | O(N \* log(N))  |
| ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è¤‡é›‘ã•: verifier      | ~O(1)                            | < O(poly-log(N))              | O(N)            |
| é€šä¿¡ã®è¤‡é›‘ã•ï¼ˆè¨¼æ˜ã®ã‚µã‚¤ã‚ºï¼‰        | ~O(1)                            | < O(poly-log(N))              | O(log(N))       |
| 1 ã¤ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºæ¨å®š  | Tx: 200 bytes, Key: 50 MB        | 45 kB                         | 1.5 kb          |
| 10,000 ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºæ¨å®š | Tx: 200 bytes, Key: 500 GB       | 135 kB                        | 2.5 kb          |
| Ethereum/EVM æ¤œè¨¼ã‚¬ã‚¹ã‚³ã‚¹ãƒˆ         | ~600k (Groth16)                  | ~2.5M (estimate, no impl.)    | N/A             |
| Trusted Setup ã®å¿…è¦æ€§              | YES ğŸ˜’                           | NO ğŸ˜„                         | NO ğŸ˜„           |
| ãƒã‚¹ãƒˆé‡å­å®‰å…¨æ€§                    | NO ğŸ˜’                            | YES ğŸ˜„                        | NO ğŸ˜’           |
| æš—å·å‰æ                            | DLP + secure bilinear pairing ğŸ˜’ | Collision resistant hashes ğŸ˜„ | Discrete log ğŸ˜ |

[Source](https://github.com/matter-labs/awesome-zero-knowledge-proofs?tab=readme-ov-file#comparison-of-the-most-popular-zkp-systems)

- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

  zk-STARK ã¯ zk-SNARK ã‚ˆã‚Šã‚‚è¨¼æ˜ã‚µã‚¤ã‚ºãŒã¯ã‚‹ã‹ã«å¤§ãã„ãŒã€zk-SNARK ã¯è¨ˆç®—é‡ãŒå¤šã„ãŸã‚ã€ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æ¯”ã¹ã¦è¨¼æ˜ã®ç”ŸæˆãŒé…ã„ã€‚ã¾ãŸã€zk-SNARK ã¯ zk-STARK ã‚ˆã‚Šã‚‚æ¶ˆè²»ã‚¬ã‚¹ãŒå°‘ãªãã€è¨¼æ˜ã®æ¤œè¨¼ã‚‚é«˜é€Ÿã§ã‚ã‚‹ã€‚

  zk-SNARK ã®æ–¹ãŒè¨¼æ˜ã®æ¤œè¨¼ãŒé€Ÿã„ãŸã‚ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒé«˜ã„ã‚ˆã†ã«è¦‹ãˆã‚‹ãŒã€zk-STARK ã®æ–¹ãŒè¨¼æ˜ã‚µã‚¤ã‚ºãŒå¤§ãã„ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€è¨¼æ˜ã®ç”ŸæˆãŒé€Ÿãã€å®Ÿéš›ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚‚é€Ÿã„ã€‚ã•ã‚‰ã«ã€zk-STARK ã¯ã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ã®è¨ˆç®—ã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³æ™‚ã«æ¶ˆè²»ã™ã‚‹ 1 ã¤å½“ãŸã‚Š Tx ã®ã‚¬ã‚¹é‡ãŒå°‘ãªã„ã€‚ã—ã‹ã—ã€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒä½ã„ï¼ˆç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ«ãƒ¼ãƒ•ãŒå°‘ãªã„ï¼‰æ™‚æœŸã«ã¯ã€æ¤œè¨¼ã«ã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚‹ã€‚

- ã‚»ã‚­ãƒªãƒ¥ãƒ†ã‚£

  zk-SNARK ã¯é‡å­è€æ€§ãŒãªã„ã€‚zk-STARK ã¯ trusted setup ã‚’å¿…è¦ã¨ã›ãšã€ä»£ã‚ã‚Šã«è¡çªã«å¼·ã„ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã‚’ç”¨ã„ã¦ã€é«˜ã„è¨ˆç®—ã‚³ã‚¹ãƒˆã‚’å¿…è¦ã¨ã›ãšã€é‡å­è€æ€§ã‚’æŒã¤ã€‚

- é€æ˜æ€§

  zk-SNARK ã¯ã€ trusted setup ã‚’å¿…è¦ã¨ã™ã‚‹ã€‚ã“ã‚Œã‚‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯é€šå¸¸ã€å°‘äººæ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã£ã¦ä¿è­·ã•ã‚Œã‚‹ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ‚ªäººã®æ‰‹ã«æ¸¡ã‚‹ã¨ã€ä¸æ­£ãªè¡Œç‚ºè€…ãŒãã‚Œã‚’ä½¿ã£ã¦å½ã®è¨¼æ˜ã‚’ä½œæˆã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

  zk-STARK ã¯ã€è¡çªã«å¼·ã„æš—å·ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ç§çš„ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç”Ÿæˆå„€å¼ã‚’ä¸è¦ã«ã—ã¦ã„ã‚‹ã€‚ä¿¡é ¼ã§ãã‚‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒãªã‘ã‚Œã°ã€ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å…¬é–‹ã•ã‚Œã€ä¸­å¤®é›†æ¨©ã‚’åˆ¶é™ã—ã€é€æ˜æ€§ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

## ã¾ã¨ã‚/æ‰€æ„Ÿ/å•é¡Œç‚¹

- ãã‚Œãã‚Œãƒ¡ãƒªãƒƒãƒˆãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚ã£ã¦ä½¿ã„åˆ†ã‘ãŒã§ãã‚‹ã¨æ„Ÿã˜ãŸ
  - Ethereum ã®å ´åˆã¯ L2 ã« zk-STARKs ã®åˆ©ç”¨ã‚’æ¨ã—ãŸã„
- TODOï¼šZKP ç”Ÿæˆã®ãŸã‚ã®ä¸­å¤®é›†æ¨©å‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’æŒã¤ãƒã‚§ãƒ¼ãƒ³ã¯ã€æœãŸã—ã¦åˆ†æ•£æ€§ã‚’æŒã£ãŸãƒã‚§ãƒ¼ãƒ³ã¨å‘¼ã¹ã‚‹ã®ã ã‚ã†ã‹ã€‚
- zk-STARKs ã¯ Tx ã®ã‚µã‚¤ã‚ºãŒå¢—ãˆã‚Œã°å¢—ãˆã‚‹ã»ã©åŠ¹æœã‚’ç™ºæ®ã—ãã†ã€‚
  - TODOï¼šã¾ã¨ã‚ã‚‰ã‚Œã¦ L2 ã«é€ã‚‰ã‚ŒãŸ Tx ã®å¡Šã®ã‚µã‚¤ã‚ºä¸Šé™ã£ã¦ã©ã®ãã‚‰ã„ãªã‚“ã ã‚ã†ã‹ï¼Ÿ
- STARKs,SNARKs ãã‚Œãã‚Œé–‹ç™ºç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šãã†ã€‚
  - libsnark - C++ã§æ›¸ã‹ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€zk-SNARKs ã®ã‚¹ã‚­ãƒ¼ãƒ ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€è¨ˆç®—ã®æ•´åˆæ€§ã‚’ã‚¼ãƒ­çŸ¥è­˜ã§è¨¼æ˜/æ¤œè¨¼ã™ã‚‹ãŸã‚ã®æš—å·çš„æ‰‹æ³•ã‚’æä¾›ã—ã¾ã™
  - ZoKrates - Ethereum ä¸Šã§ zk-SNARKs ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ãƒœãƒƒã‚¯ã‚¹ã§ã™ã€‚ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€zk-SNARKs ã®è¨¼æ˜ã‚’ç”Ÿæˆã—ã€æ¤œè¨¼ã™ã‚‹ãŸã‚ã®é«˜ãƒ¬ãƒ™ãƒ«ãªæŠ½è±¡åŒ–ã‚’æä¾›ã—ã¾ã™
  - snarkjs - JavaScript ã§æ›¸ã‹ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€Web ãƒ–ãƒ©ã‚¦ã‚¶ã‚„ Node.js ç’°å¢ƒã§ zk-SNARKs ã®è¨¼æ˜ã‚’ç”ŸæˆãŠã‚ˆã³æ¤œè¨¼ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™
  - Cairo - STARKs ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã€StarkNet ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚Cairo ã¯ã€STARKs ã«åŸºã¥ããƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã¨ãƒ„ãƒ¼ãƒ«ã‚’æä¾›ã—ã¾ã™
  - libSTARK - C++ã§æ›¸ã‹ã‚ŒãŸ ZK-STARK ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€STARKs ã®è¨¼æ˜ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€STARKs ã®é–‹ç™ºã¨å®Ÿè£…ã«å½¹ç«‹ã¤ãƒ„ãƒ¼ãƒ«ã‚’æä¾›ã—ã¾ã™
  - starknet.py - Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€StarkNet ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Python ã‚’ä½¿ç”¨ã—ã¦ STARKs ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™
  - Circom - ZKP ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç®—è¡“å›è·¯ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«ç‰¹åŒ–ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã€‚SNARKs ç‰¹åŒ–ã§ã‚ã‚‹ã€‚

## å‚è€ƒè³‡æ–™

- [zk-SNARKs vs zk-STARKs: Comparing Zero-knowledge Proofs](https://blog.pantherprotocol.io/zk-snarks-vs-zk-starks-differences-in-zero-knowledge-technologies/)
- [ã€å®Œå…¨ä¿å­˜ç‰ˆã€‘ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã¨ã¯ä½•ã‹ï¼Ÿ](https://zenn.dev/thirdweb_jp/articles/bde586f0f56f9f)
- [zk-SNARKs ã®ä»•çµ„ã¿ã«ã¤ã„ã¦](https://www.slideshare.net/ssuser2530a7/zksnarks)
- [zk-SNARKs ã¨ zk-STARKs ã®æ¯”è¼ƒ](https://scrapbox.io/layerx/zk-SNARKs%E3%81%A8zk-STARKs%E3%81%AE%E6%AF%94%E8%BC%83)
